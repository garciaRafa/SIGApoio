{% extends "base.html" %}

{% block content %}

<style>
    #ReservaFormDom {
        max-width: 70%;
    }
</style>

<h1 class="text-center mt-4 pt-4 blue-text">Editar Reserva</h1>
<form action="./{{reserva.pk}}" method="POST" id="ReservaFormDom" reserva={{ reserva }} class="container text-start">
    {% csrf_token %}
    <hr class="ms-md-4 me-md-4 blue-text">
    {% if message %}
    <h5 class="{% if error %}text-danger{% else %}text-success{% endif %} text-center">{{ message }}</h5>
    {% endif %}
    <div class="px-md-4 pb-4">
        <h5>Descrição</h5>
        {{ form.descricao }}
    </div>
    <div class="d-flex justify-content-between gap-4 px-md-4 mb-4 flex-column flex-md-row">
        <div class="flex-fill">
            <h5>Início</h5>
            {{ form.diaHoraInicio }}
        </div>
        <div class="flex-fill">
            <h5>Fim da reserva</h5>
            {{ form.diaHoraFim }}
        </div>
        <div class="flex-fill">
            <h5>Repetição</h5>
            {{ form.repeticao }}
        </div>
    </div>
    <div class="px-md-4 pb-4">
        <h5>Local</h5>
        {{ form.local }}
    </div>
    <div class="px-md-4 pb-4">
        <h5>Solicitante da reserva</h5>
        {{ form.matSolicitante }}
    </div>
    <!-- <div class="px-4 pb-4">
        <h5>Matrícula do Responsável</h5>
        {{ form.matResponsavel }}
    </div> -->
    <div class="text-end me-2 pe-4 pb-4 mb-4">
        <button class="btn blue-btn btn-primary" type="submit">Enviar</button>
    </div>
</form>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<script type="text/javascript">

    $(document).ready(() => {
        $('#id_descricao').val('{{ reserva.descricao }}');
        $('#id_diaHoraInicio').val('{{ reserva.diaHoraInicio }}');
        $('#id_diaHoraFim').val('{{ reserva.diaHoraFim }}');
        $('#id_local').html('<option selected disabled>{{ reserva.local }}</option>');
        $('#id_repeticao').html('<option selected disabled>Única</option>')
    })

</script>

{% endblock content %}